<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel ="stylesheet" href= "style.css" type= "text/css">
    
    <title>Calculadora</title>
</head>
<body>
    <div class="bubbles">
        <span class="first"></span>
        <span class="second"></span>
        <span class="third"></span>
        <span class="fourth"></span>
        <span class="fifth"></span>
        <span class="sixth"></span>
        <span class="seventh"></span>
        <span class="eighth"></span>
        <span class="nineth"></span>
        <span class="tenth"></span>
    </div>
    <div class="container">
      <form action="#" id="forms">
          <input type="text" id="answer" value="">
          <div class="buttons"> <!--primera fila-->
            <input type="button" value="AC" onclick="forms.answer.value = ''">  <!--borra toda la operacion-->
            <input type="button" value="←" onclick="forms.answer.value = forms.answer.value.substr(0, forms.answer.value.length -1)"> <!--borra un solo caracter-->
           
           </div>
           <div class="buttons"><!--segunda fila-->
            <input id="button7" type="button" value="7">  
            <input type="button" value="8" onclick="forms.answer.value += '8'"> 
            <input type="button" value="9" onclick="forms.answer.value += '9'"> 
            <input id="buttonSqrt" type="button" value="√"> <!--raiz--> 
            <input type="button" value="^" onclick="forms.answer.value += '^'"> <!--potencia-->
           </div>
           <div class="buttons"><!--tercera fila-->
            <input type="button" value="4" onclick="forms.answer.value += '4'">  
            <input type="button" value="5" onclick="forms.answer.value += '5'"> 
            <input type="button" value="6" onclick="forms.answer.value += '6'"> 
            <input type="button" value="*" onclick="forms.answer.value += '*'">  
            <input type="button" value="/" onclick="forms.answer.value += '/'"> 
           </div>
           <div class="buttons"><!-- cuarta fila-->
            <input type="button" value="1" onclick="forms.answer.value += '1'">  
            <input type="button" value="2" onclick="forms.answer.value += '2'"> 
            <input type="button" value="3" onclick="forms.answer.value += '3'">  
            <input type="button" value="+" onclick="forms.answer.value += '+'">  
            <input type="button" value="-" onclick="forms.answer.value += '-'"> 
           </div>
           <div class="buttons"><!-- quinta fila-->
            <input type="button" value="0" onclick="forms.answer.value += '0'">  
            <input type="button" value="." onclick="forms.answer.value += '.'"> 
            <input type="button" value="%" onclick="forms.answer.value += '%'"> 
            <input type="button" value="+/-" onclick="forms.answer.value += '-'">  
            <input id="buttonEqual" type="button" value="=" >  
           </div>
      </form>
  </div>
</body>

<script type="text/javascript" src="math.js"></script>

<script>

let forms = document.getElementById("forms");
let button7 = document.getElementById("button7");
let buttonSqrt = document.getElementById("buttonSqrt");
let buttonEqual = document.getElementById("buttonEqual");

function onclickButton7()
{
	document.getElementById("answer").value += 7;
};

function onclickButtonSquareRoot()
{
	document.getElementById("answer").value += 'sqrt(';
};

function onclickButtonEqual()
{
	//ANTES: document.getElementById("answer").value = eval(forms.answer.value);
	let display = document.getElementById("answer");
	let currentValue = display.value;
	alert("current: "+currentValue);
	alert("evaluated: "+math.evaluate(currentValue));
	display.value = math.evaluate(currentValue);
};

button7.addEventListener("click", onclickButton7 );
buttonSqrt.addEventListener("click", onclickButtonSquareRoot );
buttonEqual.addEventListener("click", onclickButtonEqual );

</script>

</html> 
